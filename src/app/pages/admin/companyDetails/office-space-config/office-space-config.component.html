<p-toast></p-toast>
<div *ngIf="company">
  <div
    fxLayout="column"
    fxLayoutGap="3%"
    style="width: 100%; height: 100%; padding: 2% 2% 2% 2%"
  >
    <app-navbar></app-navbar>

    <div fxLayout="row" fxLayoutAlign="space-between start">
      <h1>Office Space Configuration</h1>
      <div>
        <button mat-button class="grey-btn" (click)="onBackClick()">
          Back
        </button>
      </div>
    </div>

    <div
      fxLayout="column"
      fxLayoutAlign="space-around center"
      fxLayoutGap="3%"
      style="width: 100%; padding: 2% 2% 2% 2%"
    >
      <div
        fxLayout="column"
        fxLayoutAlign="space-around center"
        class="officeDetailsCard"
      >
        <mat-card-title class="officeDetailsHeading"
          ><b>Office Details</b></mat-card-title
        >
        <div fxLayout="row" fxLayoutAlign="center">
          <table class="companyDetailsTbl">
            <tr>
              <th class="text"><b>Office Name:</b></th>
              <td class="text">{{ company.officeName }}</td>
            </tr>
            <tr>
              <th class="text"><b>Office Address:</b></th>
              <td class="text">{{ company.officeAddress }}</td>
            </tr>
            <tr>
              <th class="text"><b>Opening Hours:</b></th>
              <td class="text">
                {{ company.officeOpeningHour.substring(0, 5) }} -
                {{ company.officeClosingHour.substring(0, 5) }}
              </td>
            </tr>
            <tr>
              <th class="text"><b>Office Capacity:</b></th>
              <td class="text">{{ company.officeCapacity }}</td>
            </tr>
          </table>
        </div>
        <div
          fxLayout="row"
          fxLayoutAlign="space-around center"
          style="padding: 2% 2% 2% 2%"
        >
          <button
            mat-button
            class="peach-btn"
            (click)="openEditOfficeDetailsDialog()"
          >
            Edit Details
          </button>
        </div>
      </div>

      <div fxLayout="column" fxLayoutAlign=" center" class="roomManagementCard">
        <mat-card-title class="roomManagementHeading"
          >Room Management</mat-card-title
        >

        <div class="roomItemContainer">
          <mat-grid-list
            cols="3"
            gutterSize="20px"
            rowHeight="1.4:1"
            style="width: 50vw"
          >
            <div *ngFor="let room of rooms">
              <mat-grid-tile>
                <button
                  mat-button
                  class="roomItem card"
                  (click)="openEditRoomDetailsDialog(room)"
                >
                  <div
                    fxLayout="column"
                    fxLayoutAlign="space-evenly start"
                    class="roomItemText"
                  >
                    <p style="font-weight: bolder; font-size: 22px">
                      {{ room.name }}
                    </p>
                    <p style="font-size: 18px">Location: {{ room.location }}</p>
                    <p style="font-size: 18px">Capacity: {{ room.capacity }}</p>
                  </div>
                  <div fxLayoutAlign="end">
                    <img
                      class="actionIcon"
                      src="../../../../../assets/images/editIcon.png"
                    />
                  </div>
                </button>
              </mat-grid-tile>
            </div>
          </mat-grid-list>
        </div>
        <div>
          <button
            mat-button
            class="peach-btn"
            style="margin-bottom: 2vw; margin-top: 1vw"
            (click)="openAddRoomDialog()"
          >
            Add Room
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
